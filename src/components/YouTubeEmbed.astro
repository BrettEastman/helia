---
interface Props {
  width?: string;
  height?: string;
  src: string;
  title: string;
  pieceName?: string;
  composer?: string;
}

const { width = '100%', height = '100%', src, title, pieceName, composer } = Astro.props
---

<div class="stack">
  <div class="video-container">
    <iframe
      width={width}
      height={height}
      src={src}
      title={title}
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    />
  </div>
  {pieceName && composer && <p><em>{pieceName}</em> - {composer}</p>}
  {pieceName && !composer && <p><em>{pieceName}</em></p>}
  {!pieceName && composer && <p>{composer}</p>}
  {!pieceName && !composer && <p>{title}</p>}
</div>

<style>
  .video-container {
    aspect-ratio: 16 / 9;
  }
  iframe {
    border: none;
  }
  .stack {
    display: flex;
    flex-direction: column;
    align-items: left;
    gap: 0.5rem;
    margin: 1rem 0;
  }
</style>